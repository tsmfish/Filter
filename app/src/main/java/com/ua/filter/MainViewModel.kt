package com.ua.filter

import android.net.Uri
import android.util.Log
import androidx.lifecycle.MutableLiveData
import androidx.lifecycle.ViewModel
import com.github.mikephil.charting.data.Entry
import health.detech.android.utils.Persistence
import kotlin.math.sin

class MainViewModel: ViewModel() {
    private val LOG_TAG by lazy { MainViewModel::class.simpleName }
    val filter = MutableLiveData(false)
    val limit = MutableLiveData(0)
    val originalData = MutableLiveData<List<Entry>>()
    val filteredData = MutableLiveData<List<Entry>>()
    val extrema =  MutableLiveData<Extrema>()
    fun load(data: Uri?) {
        Log.d(LOG_TAG, "MainViewModel::load($data) call")
/*
        File(data.path).let {
            if (it.canRead()) {
                try {

                } catch (error: IOException) { error.printStackTrace() }
            }
        }
        originalData.value = listOf(
        Entry(0.0F,366772.0F),
        Entry(9.0F,366724.0F),
        Entry(19.0F,366771.0F),
        Entry(28.0F,366766.0F),
        Entry(38.0F,366802.0F),
        Entry(48.0F,366761.0F),
        Entry(58.0F,366809.0F),
        Entry(68.0F,366825.0F),
        Entry(78.0F,366833.0F),
        Entry(89.0F,366844.0F),
        Entry(99.0F,366843.0F),
        Entry(109.0F,366816.0F),
        Entry(118.0F,366887.0F),
        Entry(128.0F,366938.0F),
        Entry(138.0F,366934.0F),
        Entry(148.0F,366983.0F),
        Entry(159.0F,367036.0F),
        Entry(169.0F,367046.0F),
        Entry(178.0F,367114.0F),
        Entry(188.0F,367174.0F),
        Entry(198.0F,367143.0F),
        Entry(208.0F,367185.0F),
        Entry(218.0F,367282.0F),
        Entry(229.0F,367383.0F),
        Entry(239.0F,367416.0F),
        Entry(248.0F,367432.0F),
        Entry(259.0F,367511.0F),
        Entry(268.0F,367534.0F),
        Entry(278.0F,367597.0F),
        Entry(288.0F,367623.0F),
        Entry(298.0F,367698.0F),
        Entry(309.0F,367742.0F),
        Entry(318.0F,367812.0F),
        Entry(328.0F,367824.0F),
        Entry(339.0F,367896.0F),
        Entry(349.0F,367941.0F),
        Entry(359.0F,367999.0F),
        Entry(368.0F,368020.0F),
        Entry(378.0F,368088.0F),
        Entry(388.0F,368115.0F),
        Entry(398.0F,368161.0F),
        Entry(409.0F,368173.0F),
        Entry(418.0F,368273.0F),
        Entry(428.0F,368333.0F),
        Entry(438.0F,368376.0F),
        Entry(448.0F,368394.0F),
        Entry(458.0F,368410.0F),
        Entry(468.0F,368421.0F),
        Entry(479.0F,368319.0F),
        Entry(488.0F,368181.0F),
        Entry(498.0F,368103.0F),
        Entry(508.0F,367968.0F),
        Entry(518.0F,367752.0F),
        Entry(528.0F,367627.0F),
        Entry(538.0F,367458.0F),
        Entry(548.0F,367296.0F),
        Entry(558.0F,367158.0F),
        Entry(568.0F,367023.0F),
        Entry(579.0F,366938.0F),
        Entry(588.0F,366873.0F),
        Entry(599.0F,366806.0F),
        Entry(617.0F,366750.0F),
        Entry(618.0F,366724.0F),
        Entry(628.0F,366711.0F),
        Entry(638.0F,366663.0F),
        Entry(648.0F,366617.0F),
        Entry(659.0F,366630.0F),
        Entry(668.0F,366515.0F),
        Entry(678.0F,366531.0F),
        Entry(688.0F,366538.0F),
        Entry(698.0F,366553.0F),
        Entry(708.0F,366577.0F),
        Entry(718.0F,366593.0F),
        Entry(728.0F,366572.0F),
        Entry(739.0F,366601.0F),
        Entry(749.0F,366615.0F),
        Entry(758.0F,366614.0F),
        Entry(774.0F,366607.0F),
        Entry(778.0F,366619.0F),
        Entry(788.0F,366575.0F),
        Entry(799.0F,366624.0F),
        Entry(809.0F,366678.0F),
        Entry(818.0F,366680.0F),
        Entry(828.0F,366661.0F),
        Entry(839.0F,366668.0F),
        Entry(848.0F,366730.0F),
        Entry(858.0F,366740.0F),
        Entry(868.0F,366734.0F),
        Entry(878.0F,366810.0F),
        Entry(889.0F,366838.0F),
        Entry(898.0F,366857.0F),
        Entry(908.0F,366856.0F),
        Entry(921.0F,366923.0F),
        Entry(929.0F,366986.0F),
        Entry(938.0F,367023.0F),
        Entry(948.0F,367060.0F),
        Entry(958.0F,367118.0F),
        Entry(968.0F,367178.0F),
        Entry(978.0F,367211.0F),
        Entry(988.0F,367225.0F),
        Entry(998.0F,367237.0F),
        Entry(1008.0F,367292.0F),
        Entry(1018.0F,367297.0F),
        Entry(1031.0F,367321.0F),
        Entry(1038.0F,367358.0F),
        Entry(1048.0F,367389.0F),
        Entry(1059.0F,367480.0F),
        Entry(1068.0F,367499.0F),
        Entry(1078.0F,367529.0F),
        Entry(1088.0F,367542.0F),
        Entry(1099.0F,367597.0F),
        Entry(1109.0F,367606.0F),
        Entry(1119.0F,367662.0F),
        Entry(1128.0F,367697.0F),
        Entry(1138.0F,367732.0F),
        Entry(1149.0F,367743.0F),
        Entry(1159.0F,367799.0F),
        Entry(1169.0F,367856.0F),
        Entry(1179.0F,367907.0F),
        Entry(1188.0F,367968.0F),
        Entry(1198.0F,367961.0F),
        Entry(1209.0F,367970.0F),
        Entry(1219.0F,367903.0F),
        Entry(1228.0F,367778.0F),
        Entry(1238.0F,367624.0F),
        Entry(1248.0F,367439.0F),
        Entry(1259.0F,367265.0F),
        Entry(1268.0F,367120.0F),
        Entry(1279.0F,366909.0F),
        Entry(1289.0F,366758.0F),
        Entry(1298.0F,366652.0F),
        Entry(1308.0F,366519.0F),
        Entry(1318.0F,366412.0F),
        Entry(1328.0F,366303.0F),
        Entry(1338.0F,366266.0F),
        Entry(1348.0F,366202.0F),
        Entry(1358.0F,366136.0F),
        Entry(1369.0F,366102.0F),
        Entry(1379.0F,366017.0F),
        Entry(1389.0F,366015.0F),
        Entry(1399.0F,365959.0F),
        Entry(1408.0F,365937.0F),
        Entry(1418.0F,365886.0F),
        Entry(1428.0F,365894.0F),
        Entry(1438.0F,365905.0F),
        Entry(1448.0F,365957.0F),
        Entry(1459.0F,365978.0F),
        Entry(1469.0F,365954.0F),
        Entry(1479.0F,365992.0F),
        Entry(1489.0F,365971.0F),
        Entry(1499.0F,365939.0F),
        Entry(1508.0F,365980.0F),
        Entry(1518.0F,365957.0F),
        Entry(1529.0F,366003.0F),
        Entry(1539.0F,365948.0F),
        Entry(1549.0F,365951.0F),
        Entry(1559.0F,366004.0F),
        Entry(1568.0F,365986.0F),
        Entry(1580.0F,365963.0F),
        Entry(1588.0F,366000.0F),
        Entry(1599.0F,366043.0F),
        Entry(1609.0F,366062.0F),
        Entry(1618.0F,366155.0F),
        Entry(1628.0F,366152.0F),
        Entry(1639.0F,366210.0F),
        Entry(1649.0F,366262.0F),
        Entry(1658.0F,366326.0F),
        Entry(1669.0F,366330.0F),
        Entry(1678.0F,366355.0F),
        Entry(1688.0F,366437.0F),
        Entry(1698.0F,366406.0F),
        Entry(1709.0F,366450.0F),
        Entry(1718.0F,366491.0F),
        Entry(1728.0F,366520.0F),
        Entry(1738.0F,366577.0F),
        Entry(1748.0F,366608.0F),
        Entry(1758.0F,366656.0F),
        Entry(1768.0F,366701.0F),
        Entry(1778.0F,366776.0F),
        Entry(1788.0F,366813.0F),
        Entry(1798.0F,366832.0F),
        Entry(1808.0F,366892.0F),
        Entry(1818.0F,366875.0F),
        Entry(1828.0F,366937.0F),
        Entry(1838.0F,366994.0F),
        Entry(1848.0F,366939.0F),
        Entry(1858.0F,367033.0F),
        Entry(1868.0F,367096.0F),
        Entry(1878.0F,367101.0F),
        Entry(1888.0F,367161.0F),
        Entry(1898.0F,367192.0F),
        Entry(1908.0F,367270.0F),
        Entry(1918.0F,367253.0F),
        Entry(1928.0F,367338.0F),
        Entry(1939.0F,367357.0F),
        Entry(1948.0F,367467.0F),
        Entry(1958.0F,367489.0F),
        Entry(1968.0F,367502.0F),
        Entry(1979.0F,367574.0F),
        Entry(1989.0F,367526.0F),
        Entry(1998.0F,367447.0F),
        Entry(2009.0F,367296.0F),
        Entry(2018.0F,367144.0F),
        Entry(2028.0F,366920.0F),
        Entry(2038.0F,366721.0F),
        Entry(2049.0F,366489.0F),
        Entry(2058.0F,366363.0F),
        Entry(2068.0F,366159.0F),
        Entry(2079.0F,366026.0F),
        Entry(2088.0F,365903.0F),
        Entry(2098.0F,365755.0F),
        Entry(2108.0F,365692.0F),
        Entry(2118.0F,365570.0F),
        Entry(2128.0F,365539.0F),
        Entry(2138.0F,365437.0F),
        Entry(2150.0F,365360.0F),
        Entry(2158.0F,365275.0F),
        Entry(2168.0F,365214.0F),
        Entry(2179.0F,365164.0F),
        Entry(2188.0F,365048.0F),
        Entry(2198.0F,365021.0F),
        Entry(2208.0F,365046.0F),
        Entry(2218.0F,365037.0F),
        Entry(2228.0F,365026.0F),
        Entry(2238.0F,365074.0F),
        Entry(2248.0F,365046.0F),
        Entry(2258.0F,365116.0F),
        Entry(2268.0F,365095.0F),
        Entry(2279.0F,365160.0F),
        Entry(2288.0F,365124.0F),
        Entry(2298.0F,365126.0F),
        Entry(2308.0F,365154.0F),
        Entry(2318.0F,365159.0F),
        Entry(2328.0F,365172.0F),
        Entry(2339.0F,365194.0F),
        Entry(2348.0F,365280.0F),
        Entry(2358.0F,365236.0F),
        Entry(2368.0F,365248.0F),
        Entry(2378.0F,365318.0F),
        Entry(2388.0F,365296.0F),
        Entry(2398.0F,365331.0F),
        Entry(2408.0F,365413.0F),
        Entry(2418.0F,365445.0F),
        Entry(2428.0F,365526.0F),
        Entry(2438.0F,365589.0F),
        Entry(2448.0F,365634.0F),
        Entry(2458.0F,365620.0F),
        Entry(2468.0F,365726.0F),
        Entry(2480.0F,365745.0F),
        Entry(2488.0F,365842.0F),
        Entry(2498.0F,365925.0F),
        Entry(2508.0F,365991.0F),
        Entry(2518.0F,366021.0F),
        Entry(2529.0F,366078.0F),
        Entry(2539.0F,366074.0F),
        Entry(2548.0F,366119.0F),
        Entry(2558.0F,366215.0F),
        Entry(2568.0F,366199.0F),
        Entry(2579.0F,366268.0F),
        Entry(2588.0F,366301.0F),
        Entry(2598.0F,366338.0F),
        Entry(2608.0F,366374.0F),
        Entry(2618.0F,366464.0F),
        Entry(2629.0F,366494.0F),
        Entry(2638.0F,366539.0F),
        Entry(2648.0F,366623.0F),
        Entry(2658.0F,366658.0F),
        Entry(2668.0F,366688.0F),
        Entry(2679.0F,366739.0F),
        Entry(2688.0F,366778.0F),
        Entry(2698.0F,366853.0F),
        Entry(2708.0F,366876.0F),
        Entry(2718.0F,366916.0F),
        Entry(2728.0F,366981.0F),
        Entry(2738.0F,367048.0F),
        Entry(2748.0F,367098.0F),
        Entry(2758.0F,367086.0F),
        Entry(2768.0F,367194.0F),
        Entry(2779.0F,367200.0F),
        Entry(2788.0F,367278.0F),
        Entry(2798.0F,367330.0F),
        Entry(2808.0F,367407.0F),
        Entry(2818.0F,367401.0F),
        Entry(2828.0F,367506.0F),
        Entry(2838.0F,367471.0F),
        Entry(2848.0F,367420.0F),
        Entry(2858.0F,367335.0F),
        Entry(2868.0F,367107.0F),
        Entry(2878.0F,366982.0F),
        Entry(2888.0F,366788.0F),
        Entry(2899.0F,366550.0F),
        Entry(2908.0F,366362.0F),
        Entry(2918.0F,366198.0F),
        Entry(2929.0F,365977.0F),
        Entry(2938.0F,365795.0F),
        Entry(2948.0F,365685.0F),
        Entry(2958.0F,365539.0F),
        Entry(2968.0F,365462.0F),
        Entry(2978.0F,365348.0F),
        Entry(2989.0F,365304.0F),
        Entry(2998.0F,365202.0F),
        Entry(3008.0F,365178.0F),
        Entry(3018.0F,365074.0F),
        Entry(3028.0F,365023.0F),
        Entry(3038.0F,364949.0F),
        Entry(3048.0F,364939.0F),
        Entry(3058.0F,364859.0F),
        Entry(3068.0F,364790.0F),
        Entry(3078.0F,364860.0F),
        Entry(3088.0F,364872.0F),
        Entry(3098.0F,364861.0F),
        Entry(3108.0F,364806.0F),
        Entry(3118.0F,364858.0F),
        Entry(3128.0F,364862.0F),
        Entry(3138.0F,364910.0F),
        Entry(3148.0F,364896.0F),
        Entry(3158.0F,364908.0F),
        Entry(3168.0F,364905.0F),
        Entry(3178.0F,364898.0F),
        Entry(3188.0F,364920.0F),
        Entry(3198.0F,364888.0F),
        Entry(3208.0F,364904.0F),
        Entry(3218.0F,364886.0F),
        Entry(3228.0F,364921.0F),
        Entry(3238.0F,364989.0F),
        Entry(3248.0F,365095.0F),
        Entry(3258.0F,365082.0F),
        Entry(3268.0F,365087.0F),
        Entry(3278.0F,365210.0F),
        Entry(3288.0F,365216.0F),
        Entry(3298.0F,365250.0F),
        Entry(3308.0F,365314.0F),
        Entry(3318.0F,365334.0F),
        Entry(3328.0F,365433.0F),
        Entry(3338.0F,365467.0F),
        Entry(3348.0F,365533.0F),
        Entry(3358.0F,365577.0F),
        Entry(3368.0F,365657.0F),
        Entry(3378.0F,365710.0F),
        Entry(3388.0F,365736.0F),
        Entry(3398.0F,365792.0F),
        Entry(3408.0F,365842.0F),
        Entry(3418.0F,365875.0F),
        Entry(3429.0F,365926.0F),
        Entry(3438.0F,365969.0F),
        Entry(3449.0F,366091.0F),
        Entry(3458.0F,366105.0F),
        Entry(3468.0F,366145.0F),
        Entry(3478.0F,366207.0F),
        Entry(3488.0F,366248.0F),
        Entry(3498.0F,366325.0F),
        Entry(3508.0F,366316.0F),
        Entry(3518.0F,366340.0F),
        Entry(3528.0F,366419.0F),
        Entry(3538.0F,366491.0F),
        Entry(3548.0F,366525.0F),
        Entry(3558.0F,366584.0F),
        Entry(3568.0F,366624.0F),
        Entry(3580.0F,366669.0F),
        Entry(3588.0F,366714.0F),
        Entry(3598.0F,366775.0F),
        Entry(3608.0F,366813.0F),
        Entry(3618.0F,366862.0F),
        Entry(3628.0F,366893.0F),
        Entry(3638.0F,366937.0F),
        Entry(3648.0F,367021.0F),
        Entry(3658.0F,367102.0F),
        Entry(3668.0F,367154.0F),
        Entry(3678.0F,367155.0F),
        Entry(3688.0F,367254.0F),
        Entry(3698.0F,367240.0F),
        Entry(3708.0F,367331.0F),
        Entry(3718.0F,367383.0F),
        Entry(3729.0F,367350.0F),
        Entry(3738.0F,367317.0F),
        Entry(3748.0F,367255.0F),
        Entry(3758.0F,367141.0F),
        Entry(3768.0F,366967.0F),
        Entry(3778.0F,366764.0F),
        Entry(3788.0F,366563.0F),
        Entry(3798.0F,366324.0F),
        Entry(3808.0F,366124.0F),
        Entry(3818.0F,365990.0F),
        Entry(3828.0F,365822.0F),
        Entry(3838.0F,365738.0F),
        Entry(3848.0F,365581.0F),
        Entry(3858.0F,365487.0F),
        Entry(3868.0F,365426.0F),
        Entry(3878.0F,365337.0F),
        Entry(3888.0F,365261.0F),
        Entry(3898.0F,365190.0F),
        Entry(3908.0F,365117.0F),
        Entry(3919.0F,365044.0F),
        Entry(3928.0F,365022.0F),
        Entry(3938.0F,364993.0F),
        Entry(3948.0F,364994.0F),
        Entry(3958.0F,364946.0F),
        Entry(3968.0F,364980.0F),
        Entry(3978.0F,364937.0F),
        Entry(3988.0F,364894.0F),
        Entry(3998.0F,364941.0F),
        Entry(4008.0F,364977.0F),
        Entry(4018.0F,364960.0F),
        Entry(4028.0F,364943.0F),
        Entry(4038.0F,364934.0F),
        Entry(4048.0F,364954.0F),
        Entry(4058.0F,364981.0F),
        Entry(4068.0F,364938.0F),
        Entry(4078.0F,364984.0F),
        Entry(4088.0F,364966.0F),
        Entry(4098.0F,364961.0F),
        Entry(4108.0F,365020.0F),
        Entry(4118.0F,365019.0F),
        Entry(4128.0F,365021.0F),
        Entry(4138.0F,365093.0F),
        Entry(4148.0F,365105.0F),
        Entry(4158.0F,365200.0F),
        Entry(4168.0F,365243.0F),
        Entry(4179.0F,365269.0F),
        Entry(4188.0F,365341.0F),
        Entry(4198.0F,365436.0F),
        Entry(4208.0F,365461.0F),
        Entry(4218.0F,365468.0F),
        Entry(4228.0F,365597.0F),
        Entry(4238.0F,365625.0F),
        Entry(4248.0F,365715.0F),
        Entry(4258.0F,365754.0F),
        Entry(4268.0F,365826.0F),
        Entry(4278.0F,365843.0F),
        Entry(4288.0F,365898.0F),
        Entry(4298.0F,365961.0F),
        Entry(4308.0F,366016.0F),
        Entry(4318.0F,366077.0F),
        Entry(4328.0F,366090.0F),
        Entry(4338.0F,366147.0F),
        Entry(4348.0F,366199.0F),
        Entry(4358.0F,366270.0F),
        Entry(4368.0F,366290.0F),
        Entry(4378.0F,366344.0F),
        Entry(4388.0F,366372.0F),
        Entry(4398.0F,366426.0F),
        Entry(4407.0F,366480.0F),
        Entry(4418.0F,366548.0F),
        Entry(4428.0F,366608.0F),
        Entry(4438.0F,366636.0F),
        Entry(4448.0F,366696.0F),
        Entry(4458.0F,366736.0F),
        Entry(4468.0F,366798.0F),
        Entry(4478.0F,366831.0F),
        Entry(4487.0F,366854.0F),
        Entry(4498.0F,366915.0F),
        Entry(4507.0F,366957.0F),
        Entry(4517.0F,367048.0F),
        Entry(4528.0F,367073.0F),
        Entry(4538.0F,367146.0F),
        Entry(4548.0F,367222.0F),
        Entry(4558.0F,367255.0F),
        Entry(4568.0F,367331.0F),
        Entry(4578.0F,367369.0F),
        Entry(4588.0F,367398.0F),
        Entry(4599.0F,367493.0F),
        Entry(4608.0F,367568.0F),
        Entry(4618.0F,367543.0F),
        Entry(4628.0F,367529.0F),
        Entry(4638.0F,367473.0F),
        Entry(4648.0F,367374.0F),
        Entry(4658.0F,367189.0F),
        Entry(4668.0F,367012.0F),
        Entry(4678.0F,366827.0F),
        Entry(4687.0F,366639.0F),
        Entry(4698.0F,366467.0F),
        Entry(4708.0F,366316.0F),
        Entry(4718.0F,366215.0F),
        Entry(4728.0F,366114.0F),
        Entry(4738.0F,366030.0F),
        Entry(4748.0F,365974.0F),
        Entry(4758.0F,365949.0F),
        Entry(4768.0F,365866.0F),
        Entry(4780.0F,365874.0F),
        Entry(4788.0F,365844.0F),
        Entry(4798.0F,365822.0F),
        Entry(4808.0F,365800.0F),
        Entry(4818.0F,365714.0F),
        Entry(4828.0F,365693.0F),
        Entry(4838.0F,365720.0F),
        Entry(4848.0F,365738.0F),
        Entry(4858.0F,365766.0F),
        Entry(4868.0F,365755.0F),
        Entry(4878.0F,365734.0F),
        Entry(4888.0F,365794.0F),
        Entry(4898.0F,365827.0F),
        Entry(4907.0F,365784.0F),
        Entry(4917.0F,365814.0F),
        Entry(4927.0F,365813.0F),
        Entry(4937.0F,365810.0F),
        Entry(4948.0F,365774.0F),
        Entry(4959.0F,365780.0F),
        Entry(4968.0F,365807.0F),
        Entry(4979.0F,365731.0F),
        Entry(4988.0F,365773.0F),
        Entry(4998.0F,365802.0F),
        Entry(5008.0F,365812.0F),
        Entry(5018.0F,365866.0F),
        Entry(5028.0F,365900.0F),
        Entry(5039.0F,365938.0F),
        Entry(5048.0F,365926.0F),
        Entry(5058.0F,365979.0F),
        Entry(5068.0F,366036.0F),
        Entry(5078.0F,366110.0F),
        Entry(5088.0F,366106.0F),
        Entry(5098.0F,366177.0F),
        Entry(5107.0F,366207.0F),
        Entry(5118.0F,366228.0F),
        Entry(5127.0F,366314.0F),
        Entry(5137.0F,366381.0F),
        Entry(5148.0F,366414.0F),
        Entry(5158.0F,366447.0F),
        Entry(5168.0F,366498.0F),
        Entry(5178.0F,366520.0F),
        Entry(5188.0F,366604.0F),
        Entry(5198.0F,366605.0F),
        Entry(5208.0F,366650.0F),
        Entry(5219.0F,366710.0F),
        Entry(5228.0F,366781.0F),
        Entry(5238.0F,366825.0F),
        Entry(5248.0F,366821.0F),
        Entry(5258.0F,366843.0F),
        Entry(5268.0F,366893.0F),
        Entry(5278.0F,366955.0F),
        Entry(5288.0F,366995.0F),
        Entry(5298.0F,367008.0F),
        Entry(5308.0F,367083.0F),
        Entry(5318.0F,367120.0F),
        Entry(5328.0F,367102.0F),
        Entry(5338.0F,367214.0F),
        Entry(5348.0F,367248.0F),
        Entry(5358.0F,367284.0F),
        Entry(5368.0F,367346.0F),
        Entry(5378.0F,367381.0F),
        Entry(5388.0F,367436.0F),
        Entry(5399.0F,367516.0F),
        Entry(5408.0F,367543.0F),
        Entry(5418.0F,367592.0F),
        Entry(5428.0F,367659.0F),
        Entry(5438.0F,367712.0F),
        Entry(5448.0F,367734.0F),
        Entry(5458.0F,367752.0F),
        Entry(5468.0F,367721.0F),
        Entry(5479.0F,367639.0F),
        Entry(5488.0F,367471.0F),
        Entry(5498.0F,367337.0F),
        Entry(5508.0F,367184.0F),
        Entry(5518.0F,367014.0F),
        Entry(5528.0F,366851.0F),
        Entry(5538.0F,366739.0F),
        Entry(5548.0F,366581.0F),
        Entry(5558.0F,366386.0F),
        Entry(5568.0F,366310.0F),
        Entry(5578.0F,366184.0F),
        Entry(5587.0F,366140.0F),
        Entry(5598.0F,366096.0F),
        Entry(5608.0F,366086.0F),
        Entry(5618.0F,366041.0F),
        Entry(5627.0F,365968.0F),
        Entry(5637.0F,365948.0F),
        Entry(5647.0F,365892.0F),
        Entry(5657.0F,365825.0F),
        Entry(5668.0F,365816.0F),
        Entry(5678.0F,365783.0F),
        Entry(5687.0F,365768.0F),
        Entry(5698.0F,365775.0F),
        Entry(5710.0F,365782.0F),
        Entry(5718.0F,365799.0F),
        Entry(5728.0F,365782.0F),
        Entry(5738.0F,365840.0F),
        Entry(5749.0F,365828.0F),
        Entry(5758.0F,365797.0F),
        Entry(5769.0F,365799.0F),
        Entry(5778.0F,365772.0F),
        Entry(5788.0F,365830.0F),
        Entry(5798.0F,365813.0F),
        Entry(5808.0F,365799.0F),
        Entry(5818.0F,365794.0F),
        Entry(5828.0F,365818.0F),
        Entry(5838.0F,365810.0F),
        Entry(5848.0F,365824.0F),
        Entry(5858.0F,365896.0F),
        Entry(5868.0F,365889.0F),
        Entry(5877.0F,365916.0F),
        Entry(5887.0F,366012.0F),
        Entry(5898.0F,366010.0F),
        Entry(5908.0F,366001.0F),
        Entry(5917.0F,366033.0F),
        Entry(5927.0F,366099.0F),
        Entry(5937.0F,366113.0F),
        Entry(5948.0F,366172.0F),
        Entry(5958.0F,366207.0F),
        Entry(5968.0F,366280.0F),
        Entry(5978.0F,366290.0F),
        Entry(5988.0F,366398.0F),
        Entry(5998.0F,366419.0F),
        Entry(6008.0F,366425.0F),
        Entry(6018.0F,366482.0F),
        Entry(6028.0F,366567.0F),
        Entry(6038.0F,366565.0F),
        Entry(6048.0F,366671.0F),
        Entry(6058.0F,366630.0F),
        Entry(6068.0F,366733.0F),
        Entry(6078.0F,366777.0F),
        Entry(6088.0F,366772.0F),
        Entry(6098.0F,366800.0F),
        Entry(6108.0F,366872.0F),
        Entry(6118.0F,366846.0F),
        Entry(6127.0F,366884.0F),
        Entry(6138.0F,366957.0F),
        Entry(6147.0F,366998.0F),
        Entry(6157.0F,367006.0F),
        Entry(6168.0F,367068.0F),
        Entry(6178.0F,367109.0F),
        Entry(6187.0F,367149.0F),
        Entry(6198.0F,367274.0F),
        Entry(6207.0F,367282.0F),
        Entry(6217.0F,367312.0F),
        Entry(6227.0F,367425.0F),
        Entry(6238.0F,367418.0F),
        Entry(6248.0F,367487.0F),
        Entry(6258.0F,367540.0F),
        Entry(6268.0F,367554.0F),
        Entry(6278.0F,367526.0F),
        Entry(6288.0F,367530.0F),
        Entry(6300.0F,367464.0F),
        Entry(6308.0F,367350.0F),
        Entry(6318.0F,367231.0F),
        Entry(6328.0F,367020.0F),
        Entry(6338.0F,366883.0F),
        Entry(6348.0F,366720.0F),
        Entry(6358.0F,366580.0F),
        Entry(6368.0F,366414.0F),
        Entry(6378.0F,366296.0F),
        Entry(6388.0F,366139.0F),
        Entry(6398.0F,366086.0F),
        Entry(6408.0F,365975.0F),
        Entry(6418.0F,365871.0F),
        Entry(6428.0F,365844.0F),
        Entry(6438.0F,365785.0F),
        Entry(6447.0F,365755.0F),
        Entry(6457.0F,365738.0F),
        Entry(6467.0F,365666.0F),
        Entry(6477.0F,365591.0F),
        Entry(6487.0F,365509.0F),
        Entry(6497.0F,365477.0F),
        Entry(6507.0F,365495.0F),
        Entry(6517.0F,365506.0F),
        Entry(6527.0F,365498.0F),
        Entry(6537.0F,365516.0F),
        Entry(6547.0F,365552.0F),
        Entry(6557.0F,365549.0F),
        Entry(6568.0F,365549.0F),
        Entry(6578.0F,365540.0F),
        Entry(6587.0F,365506.0F),
        Entry(6597.0F,365529.0F),
        Entry(6608.0F,365554.0F),
        Entry(6618.0F,365533.0F),
        Entry(6628.0F,365553.0F),
        Entry(6638.0F,365540.0F),
        Entry(6648.0F,365495.0F),
        Entry(6658.0F,365552.0F),
        Entry(6668.0F,365535.0F),
        Entry(6678.0F,365552.0F),
        Entry(6687.0F,365619.0F),
        Entry(6697.0F,365655.0F),
        Entry(6707.0F,365691.0F),
        Entry(6718.0F,365695.0F),
        Entry(6727.0F,365798.0F),
        Entry(6737.0F,365800.0F),
        Entry(6747.0F,365828.0F),
        Entry(6757.0F,365896.0F),
        Entry(6767.0F,365985.0F),
        Entry(6777.0F,365974.0F),
        Entry(6787.0F,366032.0F),
        Entry(6797.0F,366075.0F),
        Entry(6807.0F,366125.0F),
        Entry(6817.0F,366196.0F),
        Entry(6828.0F,366197.0F),
        Entry(6837.0F,366213.0F),
        Entry(6848.0F,366262.0F),
        Entry(6857.0F,366297.0F),
        Entry(6867.0F,366338.0F),
        Entry(6877.0F,366368.0F),
        Entry(6887.0F,366429.0F),
        Entry(6897.0F,366465.0F),
        Entry(6907.0F,366516.0F),
        Entry(6917.0F,366519.0F),
        Entry(6927.0F,366593.0F),
        Entry(6937.0F,366622.0F),
        Entry(6948.0F,366659.0F),
        Entry(6958.0F,366651.0F),
        Entry(6967.0F,366677.0F),
        Entry(6977.0F,366721.0F),
        Entry(6987.0F,366779.0F),
        Entry(6997.0F,366877.0F),
        Entry(7008.0F,366883.0F),
        Entry(7018.0F,366943.0F),
        Entry(7028.0F,367003.0F),
        Entry(7038.0F,367021.0F),
        Entry(7048.0F,367080.0F),
        Entry(7058.0F,367101.0F),
        Entry(7068.0F,367157.0F),
        Entry(7078.0F,367238.0F),
        Entry(7088.0F,367223.0F),
        Entry(7098.0F,367158.0F),
        Entry(7108.0F,367055.0F),
        Entry(7118.0F,366917.0F),
        Entry(7128.0F,366800.0F),
        Entry(7138.0F,366630.0F),
        Entry(7148.0F,366404.0F),
        Entry(7157.0F,366225.0F),
        Entry(7168.0F,366078.0F),
        Entry(7178.0F,365910.0F),
        Entry(7188.0F,365797.0F),
        Entry(7198.0F,365661.0F),
        Entry(7208.0F,365626.0F),
        Entry(7218.0F,365520.0F),
        Entry(7228.0F,365516.0F),
        Entry(7238.0F,365402.0F),
        Entry(7248.0F,365349.0F),
        Entry(7258.0F,365339.0F),
        Entry(7268.0F,365276.0F),
        Entry(7278.0F,365222.0F),
        Entry(7288.0F,365179.0F),
        Entry(7298.0F,365119.0F),
        Entry(7308.0F,365083.0F),
        Entry(7317.0F,365108.0F),
        Entry(7327.0F,365067.0F),
        Entry(7337.0F,365059.0F),
        Entry(7348.0F,365101.0F),
        Entry(7358.0F,365099.0F),
        Entry(7367.0F,365144.0F),
        Entry(7377.0F,365117.0F),
        Entry(7387.0F,365167.0F),
        Entry(7397.0F,365135.0F),
        Entry(7407.0F,365129.0F),
        Entry(7417.0F,365116.0F),
        Entry(7427.0F,365111.0F),
        Entry(7437.0F,365114.0F),
        Entry(7447.0F,365110.0F),
        Entry(7457.0F,365103.0F),
        Entry(7467.0F,365172.0F),
        Entry(7477.0F,365196.0F),
        Entry(7487.0F,365180.0F),
        Entry(7497.0F,365236.0F),
        Entry(7507.0F,365268.0F),
        Entry(7517.0F,365288.0F),
        Entry(7528.0F,365339.0F),
        Entry(7538.0F,365333.0F),
        Entry(7548.0F,365361.0F),
        Entry(7557.0F,365442.0F),
        Entry(7568.0F,365466.0F),
        Entry(7577.0F,365529.0F),
        Entry(7587.0F,365555.0F),
        Entry(7597.0F,365617.0F),
        Entry(7607.0F,365634.0F),
        Entry(7617.0F,365704.0F),
        Entry(7627.0F,365749.0F),
        Entry(7637.0F,365780.0F),
        Entry(7647.0F,365806.0F),
        Entry(7657.0F,365845.0F),
        Entry(7667.0F,365863.0F),
        Entry(7677.0F,365896.0F),
        Entry(7687.0F,365937.0F)
        )
*/
        val data = ArrayList<Entry>(1000)
        for (i in 0 until 1000) {
            data.add(Entry(i.toFloat(), 1000.0F * sin(i.toDouble() * 0.01 * Math.PI).toFloat()
                    + 1000.0F * 0.25F * sin(i.toDouble() * 0.01 * Math.PI * 4.9).toFloat()
                    + 1000.0F * 0.15F * sin(i.toDouble() * 0.01 * Math.PI * 12.1).toFloat()))
        }
        originalData.value = data
        implementFilter()
    }

    fun implementFilter() {
        Log.d(LOG_TAG, "MainViewModel::implementFilter($limit) called")
        if (limit.value != null && originalData.value != null) {
            Persistence(originalData.value!!).apply {
                getFiltered(limit.value?.toFloat()!!).apply {
                    val maximums = ArrayList<Entry>()
                    val minimums = ArrayList<Entry>()
                    for (i in 0 until size) {
                        if (i % 2 == 0) {
                            maximums.add(get(i).value)
                        } else {
                            minimums.add(get(i).value)
                        }
                    }
                    extrema.value = Extrema(minimums.sortedBy { it.x }, maximums.sortedBy { it.x })
                }
            }
        }
    }

    fun recalculate(value: Boolean?) {

    }

    inner class Extrema(val minimums: List<Entry>, val maximums: List<Entry>)
}